<header class="header">
  <div class="header-container">
    <div class="logo">
      <a routerLink="/" class="logo-link" (click)="closeMobileMenu()">
        <div class="logo-icon">
          <img src="assets/fala-logo.png" alt="El Refugi Fala Logo" class="logo-image">
        </div>
        <div class="logo-text">
          <h1>EL REFUGI</h1>
          <p>FALA - A.B</p>
        </div>
      </a>
    </div>

    <!-- Navigation Desktop -->
    <nav class="navigation hidden-mobile">
      @for (item of navigationItems; track item.route) {
        <a 
          [routerLink]="item.route" 
          class="nav-link" 
          routerLinkActive="active" 
          [routerLinkActiveOptions]="{exact: item.exact}"
          (click)="onNavigate(item.route)">
          {{ item.label }}
        </a>
      }

      @if (isAuthenticated()) {
        <a routerLink="/mis-reservas" class="nav-link" routerLinkActive="active">
          mis reservas
        </a>
      }
    </nav>

    <!-- Right side - Currency fixed + User -->
    <div class="header-right">
      <div class="currency-label hidden-mobile">
        Moneda: COP
      </div>
      
      @if (isAuthenticated()) {
        <div class="user-info hidden-mobile">
          <span class="user-name">Holi, {{ userInfo()?.firstName || 'Usuario' }} ðŸ’š </span>
        </div>
      }
      
      <!-- Login/Logout Button -->
      <button class="login-btn btn-secondary" (click)="onLoginClick()">
        {{ isAuthenticated() ? 'cerrar sesiÃ³n' : 'iniciar sesiÃ³n' }}
      </button>

      <!-- Mobile Menu Button -->
      <button class="mobile-menu-btn visible-mobile" (click)="toggleMobileMenu()">
        <span class="hamburger-icon" [class.open]="isMobileMenuOpen">
          <span></span>
          <span></span>
          <span></span>
        </span>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <nav class="mobile-navigation" [class.open]="isMobileMenuOpen">
    <div class="mobile-nav-content">
      <div class="mobile-nav-links">
        @for (item of navigationItems; track item.route) {
          <a 
            [routerLink]="item.route" 
            class="mobile-nav-link" 
            routerLinkActive="active" 
            [routerLinkActiveOptions]="{exact: item.exact}"
            (click)="onNavigate(item.route)">
            {{ item.label }}
          </a>
        }
        
        @if (isAuthenticated()) {
          <a routerLink="/mis-reservas" class="mobile-nav-link" routerLinkActive="active" (click)="onNavigate('/mis-reservas')">
            mis reservas
          </a>
        }
      </div>

      <!-- Mobile User Info -->
      @if (isAuthenticated()) {
        <div class="mobile-user-info">
          <p>Hola, {{ userInfo()?.firstName || 'Usuario' }}</p>
        </div>
      }

      <!-- Mobile Currency fixed -->
      <div class="mobile-currency">
        Moneda: COP
      </div>
    </div>
  </nav>

  <!-- Mobile Overlay -->
  @if (isMobileMenuOpen) {
    <div class="mobile-overlay" (click)="closeMobileMenu()"></div>
  }
</header>
