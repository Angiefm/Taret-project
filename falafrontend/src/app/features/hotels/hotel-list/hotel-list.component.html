<div class="hotel-list-container">
  
  <!-- header con filtros y controles -->
  @if (showFilters || showSorting) {
    <div class="list-header">
      <!-- informaci√≥n de resultados -->
      <div class="results-info">
        <h3 class="results-title">{{ getResultsText() }}</h3>
        @if (searchCriteria?.destination) {
          <p class="results-subtitle">
            en {{ searchCriteria?.destination }}
          </p>
        }
      </div>

      <!-- controles de ordenamiento y vista -->
      @if (hasResults() && (showSorting || showFilters)) {
        <div class="list-controls">
          <!-- selector de ordenamiento -->
          @if (showSorting) {
            <div class="sort-control">
              <label for="sort-select" class="control-label">ordenar por:</label>
              <select 
                id="sort-select"
                class="sort-select"
                [value]="currentSort"
                (change)="onSortChange($any($event.target).value)">
                @for (option of sortOptions; track option.value) {
                  <option [value]="option.value">
                    {{ option.label }}
                  </option>
                }
              </select>
            </div>
          }

          <!-- botones de vista -->
          <div class="view-control">
            <label class="control-label">vista:</label>
            <div class="view-buttons">
              <button 
                class="view-btn"
                [class.active]="viewMode === 'grid'"
                (click)="onViewModeChange('grid')"
                title="vista de cuadr√≠cula">
                <span class="view-icon">‚äû</span>
              </button>
              <button 
                class="view-btn"
                [class.active]="viewMode === 'list'"
                (click)="onViewModeChange('list')"
                title="vista de lista">
                <span class="view-icon">‚ò∞</span>
              </button>
            </div>
          </div>
        </div>
      }
    </div>
  }

  <!-- estado de carga -->
  @if (isLoading()) {
    <div class="loading-container">
      <div class="loading-header">
        <div class="loading-spinner"></div>
        <p class="loading-text">cargando hoteles...</p>
      </div>
      
      <div class="hotels-grid skeleton-grid" [class.list-view]="viewMode === 'list'">
        @for (item of skeletonItems; track trackByIndex) {
          <div class="skeleton-card">
            <div class="skeleton-image"></div>
            <div class="skeleton-content">
              <div class="skeleton-line skeleton-title"></div>
              <div class="skeleton-line skeleton-location"></div>
              <div class="skeleton-line skeleton-price"></div>
            </div>
          </div>
        }
      </div>
    </div>
  }

  <!-- estado de error -->
  @if (hasError()) {
    <div class="error-container">
      <div class="error-content">
        <div class="error-icon">{{ getErrorIcon() }}</div>
        <h3 class="error-title">oops! algo sali√≥ mal</h3>
        <p class="error-message">{{ error }}</p>
        <button class="retry-btn btn-primary" (click)="onRetryClick()">
          <span class="retry-icon">üîÑ</span>
          intentar de nuevo
        </button>
      </div>
    </div>
  }

  <!-- estado vac√≠o -->
  @if (isEmpty()) {
    <div class="empty-container">
      <div class="empty-content">
        <div class="empty-icon">üè®</div>
        <h3 class="empty-title">no encontramos hoteles</h3>
        <p class="empty-message">
          no hay hoteles que coincidan con tus criterios de b√∫squeda.
          <br>intenta ajustar los filtros o buscar en otra ubicaci√≥n.
        </p>
        <button class="clear-filters-btn btn-outline" (click)="onRetryClick()">
          <span class="clear-icon">üîç</span>
          buscar de nuevo
        </button>
      </div>
    </div>
  }

  <!-- lista de hoteles -->
  @if (hasResults()) {
    <div class="hotels-container">
      <div 
        class="hotels-grid"
        [class.list-view]="viewMode === 'list'"
        [class.grid-view]="viewMode === 'grid'">
        
        @for (hotel of filteredHotels; track trackByHotelId) {
          <app-hotel-card
            [hotel]="hotel"
            [class.list-card]="viewMode === 'list'"
            [class.grid-card]="viewMode === 'grid'"
            (viewRoomsClicked)="onViewRooms($event)">
          </app-hotel-card>
        }
      </div>

      @if (filteredHotels.length > 6) {
        <div class="list-footer">
          <p class="footer-info">
            mostrando {{ filteredHotels.length }} hoteles
            @if (searchCriteria?.destination) {
              <span>en {{ searchCriteria?.destination }}</span>
            }
          </p>
        </div>
      }
    </div>
  }
</div>
