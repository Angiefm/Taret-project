<div class="hotel-list-container">
  
  <!-- aqu√≠ muestro el header con filtros y controles si est√°n activos -->
  <div class="list-header" *ngIf="showFilters || showSorting">
    <!-- aqu√≠ muestro la informaci√≥n de los resultados -->
    <div class="results-info">
      <h3 class="results-title">{{ getResultsText() }}</h3>
      <p class="results-subtitle" *ngIf="searchCriteria?.destination">
        en {{ searchCriteria?.destination }}
      </p>
    </div>

    <!-- aqu√≠ muestro los controles de ordenamiento y vista -->
    <div class="list-controls" *ngIf="hasResults() && (showSorting || showFilters)">
      
      <!-- aqu√≠ pongo el selector de ordenamiento -->
      <div class="sort-control" *ngIf="showSorting">
        <label for="sort-select" class="control-label">ordenar por:</label>
        <select 
          id="sort-select"
          class="sort-select"
          [value]="currentSort"
          (change)="onSortChange($any($event.target).value)">
          <option 
            *ngFor="let option of sortOptions" 
            [value]="option.value">
            {{ option.label }}
          </option>
        </select>
      </div>

      <!-- aqu√≠ pongo los botones para cambiar la vista -->
      <div class="view-control">
        <label class="control-label">vista:</label>
        <div class="view-buttons">
          <button 
            class="view-btn"
            [class.active]="viewMode === 'grid'"
            (click)="onViewModeChange('grid')"
            title="vista de cuadr√≠cula">
            <span class="view-icon">‚äû</span>
          </button>
          <button 
            class="view-btn"
            [class.active]="viewMode === 'list'"
            (click)="onViewModeChange('list')"
            title="vista de lista">
            <span class="view-icon">‚ò∞</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- aqu√≠ muestro el estado de carga -->
  <div class="loading-container" *ngIf="isLoading()">
    <div class="loading-header">
      <div class="loading-spinner"></div>
      <p class="loading-text">cargando hoteles...</p>
    </div>
    
    <!-- aqu√≠ pongo los skeletons mientras carga -->
    <div class="hotels-grid skeleton-grid" [class.list-view]="viewMode === 'list'">
      <div 
        *ngFor="let item of skeletonItems; trackBy: trackByIndex"
        class="skeleton-card">
        <div class="skeleton-image"></div>
        <div class="skeleton-content">
          <div class="skeleton-line skeleton-title"></div>
          <div class="skeleton-line skeleton-location"></div>
          <div class="skeleton-line skeleton-price"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- aqu√≠ muestro el estado de error -->
  <div class="error-container" *ngIf="hasError()">
    <div class="error-content">
      <div class="error-icon">{{ getErrorIcon() }}</div>
      <h3 class="error-title">oops! algo sali√≥ mal</h3>
      <p class="error-message">{{ error }}</p>
      <button class="retry-btn btn-primary" (click)="onRetryClick()">
        <span class="retry-icon">üîÑ</span>
        intentar de nuevo
      </button>
    </div>
  </div>

  <!-- aqu√≠ muestro el estado vac√≠o -->
  <div class="empty-container" *ngIf="isEmpty()">
    <div class="empty-content">
      <div class="empty-icon">üè®</div>
      <h3 class="empty-title">no encontramos hoteles</h3>
      <p class="empty-message">
        no hay hoteles que coincidan con tus criterios de b√∫squeda.
        <br>intenta ajustar los filtros o buscar en otra ubicaci√≥n.
      </p>
      <button class="clear-filters-btn btn-outline" (click)="onRetryClick()">
        <span class="clear-icon">üîç</span>
        buscar de nuevo
      </button>
    </div>
  </div>

  <!-- aqu√≠ muestro la lista de hoteles -->
  <div class="hotels-container" *ngIf="hasResults()">
    <div 
      class="hotels-grid"
      [class.list-view]="viewMode === 'list'"
      [class.grid-view]="viewMode === 'grid'">
      
      <!-- aqu√≠ repito las tarjetas de hotel -->
      <app-hotel-card
        *ngFor="let hotel of filteredHotels; trackBy: trackByHotelId"
        [hotel]="hotel"
        [class.list-card]="viewMode === 'list'"
        [class.grid-card]="viewMode === 'grid'"
        (viewRoomsClicked)="onViewRooms($event)">
      </app-hotel-card>
    </div>

    <!-- aqu√≠ muestro informaci√≥n adicional si hay m√°s de 6 hoteles -->
    <div class="list-footer" *ngIf="filteredHotels.length > 6">
      <p class="footer-info">
        mostrando {{ filteredHotels.length }} hoteles
        <span *ngIf="searchCriteria?.destination">
          en {{ searchCriteria?.destination }}
        </span>
      </p>
    </div>
  </div>
</div>
